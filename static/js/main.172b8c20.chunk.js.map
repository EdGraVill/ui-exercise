{"version":3,"sources":["Auth/selectors.ts","Auth/slicer.ts","util/randomBetween.ts","util/Theme.tsx","util/regex.ts","Auth/LoginPage.tsx","Auth/hooks.ts","Auth/AuthGate.tsx","Auth/sagas.ts","Mail/slicer.ts","Mail/sagas.ts","store/createStore.ts","store/ReduxProvider.tsx","Mail/selectors.ts","Nav/Navbar.tsx","util/useSwitch.ts","Nav/Nav.tsx","Mail/MailList.tsx","App.tsx","index.tsx","Auth/googleLogo.svg"],"names":["authRootStateSelector","state","auth","isAuthLoadingSelector","createSelector","isFetching","isLoggedSelector","user","userInfoSelector","authErrorSelector","error","authInitialState","email","JSON","parse","localStorage","getItem","createSlice","initialState","name","reducers","restoreDefault","removeItem","login","action","payload","receiveUserInfo","setItem","stringify","rejectUserInfo","removeError","authActions","actions","authReducer","reducer","randomBetween","start","end","Error","Math","floor","random","theme","createMuiTheme","typography","fontFamily","palette","primary","main","Themed","children","ThemeProvider","emailRegex","Container","styled","div","useStyles","makeStyles","card","alignItems","border","boxSizing","display","flexFlow","padding","maxWidth","width","title","fontSize","marginTop","textAlign","subtitle","input","disclaimer","color","button","textTransform","helperText","helperTextIcon","marginRight","LoginPage","dispatch","useDispatch","React","setEmail","useSelector","clearError","isLoading","loginFunction","formatedEmail","includes","logoutFunction","useAuth","onLogin","test","classes","Paper","className","src","googleLogo","alt","Typography","TextField","id","label","variant","value","onChange","currentTarget","trim","Grid","container","Link","href","Button","onClick","CircularProgress","size","AuthGate","fetchUserInfoEffect","authSagas","call","axios","get","response","put","data","err","message","takeLatest","type","lastKnownError","mailList","fetchMails","receiveMails","uniqueList","reduce","prev","curr","forEach","mail","Object","values","sort","a","b","Number","Date","date","rejectMails","mailActions","mailReducer","fetchMailsEffect","mailSagas","default","messages","takeEvery","mapReducer","ReduxProvider","store","sagaMiddleware","createSagaMiddleware","configureStore","combineReducers","devTools","process","middleware","getDefaultMiddleware","run","createStore","mailRootStateSelector","mailListSelector","mails","isFetchingMailsSelector","mailsTagsSelector","uniqueTags","map","tags","flat","tag","console","log","keys","isOpened","css","Header","Logo","img","Avatar","MaterialAvatar","Links","margin","search","position","borderRadius","shape","backgroundColor","fade","common","white","flexGrow","spacing","marginLeft","breakpoints","up","searchIcon","height","pointerEvents","justifyContent","inputRoot","inputInput","paddingLeft","transition","transitions","create","avatar","link","fontWeight","linkText","linkIcon","Navbar","userInfo","isTrue","setValue","switchFn","useSwitch","switchNavbar","pathname","useLocation","push","useHistory","onLogout","goTo","path","IconButton","srcSet","aria-hidden","InputBase","placeholder","root","inputProps","first_name","startIcon","key","Children","Nav","MailList","undefined","replace","filter","isFetchingMails","App","render","Theme","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.172b8c20.chunk.js","sourcesContent":["import { State } from \"../store\";\r\nimport { createSelector } from \"@reduxjs/toolkit\";\r\n\r\nexport const authRootStateSelector = (state: State) => state.auth;\r\n\r\nexport const isAuthLoadingSelector = createSelector(\r\n  authRootStateSelector,\r\n  auth => auth.isFetching,\r\n);\r\n\r\nexport const isLoggedSelector = createSelector(\r\n  authRootStateSelector,\r\n  auth => auth.user !== null,\r\n);\r\n\r\nexport const userInfoSelector = createSelector(\r\n  authRootStateSelector,\r\n  auth => auth.user,\r\n);\r\n\r\nexport const authErrorSelector = createSelector(\r\n  authRootStateSelector,\r\n  auth => auth.error,\r\n);\r\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\"\r\nimport { UserInfo } from \"../types\";\r\n\r\nexport const STORE_KEY = 'USER_INFO';\r\n\r\nexport const authInitialState = {\r\n  email: '',\r\n  error: null as string | null,\r\n  isFetching: false,\r\n  user: JSON.parse(localStorage.getItem(STORE_KEY) || 'null') as UserInfo | null,\r\n};\r\n\r\nexport const { actions: authActions, reducer: authReducer } = createSlice({\r\n  initialState: authInitialState,\r\n  name: 'auth',\r\n  reducers: {\r\n    restoreDefault() {\r\n      localStorage.removeItem(STORE_KEY);\r\n\r\n      return authInitialState;\r\n    },\r\n    login(state, action: PayloadAction<string>) {\r\n      state.isFetching = true;\r\n      state.email = action.payload;\r\n    },\r\n    receiveUserInfo(state, action: PayloadAction<UserInfo>) {\r\n      state.isFetching = false;\r\n      state.user = action.payload;\r\n      state.user.email = state.email;\r\n\r\n      localStorage.setItem(STORE_KEY, JSON.stringify(state.user));\r\n    },\r\n    rejectUserInfo(state, action: PayloadAction<string>) {\r\n      state.isFetching = false;\r\n      state.error = action.payload;\r\n    },\r\n    removeError(state) {\r\n      state.error = null;\r\n    },\r\n  },\r\n});\r\n","const randomBetween = (start: number, end: number) => {\r\n  if (end < start) {\r\n    throw new Error('Left number should be lower than right number');\r\n  }\r\n\r\n  return Math.floor(Math.random() * end) + start;\r\n};\r\n\r\nexport default randomBetween;\r\n","import * as React from 'react';\r\nimport { ThemeProvider, createMuiTheme } from '@material-ui/core';\r\n\r\n// const defaultTheme = createMuiTheme();\r\n\r\nconst theme = createMuiTheme({\r\n  typography: {\r\n    fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\r\n  },\r\n  palette: {\r\n    primary: {\r\n      main: 'rgb(26, 115, 232)',\r\n    },\r\n    error: {\r\n      main: '#d93025',\r\n    },\r\n  },\r\n});\r\n\r\nconst Themed: React.FC = ({ children }) => {\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      {children}\r\n    </ThemeProvider>\r\n  );\r\n};\r\n\r\nexport default Themed;\r\n","export const emailRegex = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n","import * as React from 'react';\r\nimport { useAuth } from './hooks';\r\nimport styled from 'styled-components';\r\nimport { Paper, Typography, makeStyles, TextField, Link, Button, Grid, CircularProgress } from '@material-ui/core';\r\nimport googleLogo from './googleLogo.svg';\r\nimport { useDispatch } from 'react-redux';\r\nimport { authActions } from './slicer';\r\nimport ErrorIcon from '@material-ui/icons/Error';\r\nimport { emailRegex } from '../util';\r\n\r\nconst Container = styled.div`\r\n  align-items: center;\r\n  background-color: white;\r\n  display: flex;\r\n  height: 100vh;\r\n  justify-content: center;\r\n  width: 100%;\r\n`;\r\n\r\nconst useStyles = makeStyles({\r\n  card: {\r\n    alignItems: 'center',\r\n    border: '1px solid #dadce0',\r\n    boxSizing: 'border-box',\r\n    display: 'flex',\r\n    flexFlow: 'column nowrap',\r\n    padding: '40px 40px 36px',\r\n    maxWidth: 448,\r\n    width: '100%',\r\n  },\r\n  title: {\r\n    fontFamily: 'Product Sans',\r\n    fontSize: 24,\r\n    marginTop: 16,\r\n    textAlign: 'center',\r\n  },\r\n  subtitle: {\r\n    marginTop: 8,\r\n    textAlign: 'center',\r\n  },\r\n  input: {\r\n    marginTop: 32,\r\n    width: '100%',\r\n  },\r\n  disclaimer: {\r\n    color: '#5f6368',\r\n    fontSize: 14,\r\n    marginTop: 32,\r\n  },\r\n  button: {\r\n    fontFamily: 'Product Sans',\r\n    marginTop: 32,\r\n    textTransform: 'capitalize',\r\n  },\r\n  helperText: {\r\n    fontSize: 12,\r\n  },\r\n  helperTextIcon: {\r\n    fontSize: 14,\r\n    marginRight: 8,\r\n  },\r\n});\r\n\r\nconst LoginPage: React.FC = () => {\r\n  const dispatch = useDispatch();\r\n  const [email, setEmail] = React.useState('');\r\n  const { clearError, error, isLoading, loginFunction } = useAuth();\r\n\r\n  const onLogin = React.useCallback(() => {\r\n    if (email && ((email.includes('@') && emailRegex.test(email)) || (!email.includes('@')))) {\r\n      loginFunction(email);\r\n    } else if (!email) {\r\n      dispatch(authActions.rejectUserInfo('Enter an email'));\r\n    } else {\r\n      dispatch(authActions.rejectUserInfo('Enter a valid email'));\r\n    }\r\n  }, [dispatch, email, loginFunction]);\r\n\r\n  React.useEffect(() => {\r\n    clearError();\r\n  }, [clearError, email]);\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Container>\r\n      <Paper className={classes.card}>\r\n        <img src={googleLogo} alt=\"Google\" />\r\n        <Typography className={classes.title}>Sign In</Typography>\r\n        <Typography className={classes.subtitle}>to continue to Gmail</Typography>\r\n        <TextField\r\n          className={classes.input}\r\n          id=\"email\"\r\n          label=\"Email\"\r\n          variant=\"outlined\"\r\n          value={email}\r\n          onChange={({ currentTarget: { value } }) => setEmail(value.trim())}\r\n          error={!!error}\r\n          helperText={error && (\r\n            <Grid container>\r\n              <ErrorIcon className={classes.helperTextIcon} />\r\n              <Typography className={classes.helperText}>{error}</Typography>\r\n            </Grid>\r\n          )}\r\n        />\r\n        <Typography className={classes.disclaimer}>\r\n          Not your computer? Use a private browsing window to sign in.{' '}\r\n          <Link href=\"https://support.google.com/accounts?p=signin_privatebrowsing&hl=en\">\r\n            Learn more\r\n          </Link>\r\n        </Typography>\r\n        <Button\r\n          className={classes.button}\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          onClick={onLogin}\r\n        >\r\n          {isLoading && <CircularProgress color=\"inherit\" size={24} />}\r\n          {!isLoading && 'Next'}\r\n        </Button>\r\n      </Paper>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default LoginPage;\r\n","import * as React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { authActions } from './slicer';\r\nimport { isAuthLoadingSelector, authErrorSelector } from './selectors';\r\n\r\ninterface UseAuthReturn {\r\n  error: string | null;\r\n  isLoading: boolean;\r\n  loginFunction: (email: string) => void;\r\n  logoutFunction: () => void;\r\n  clearError: () => void;\r\n}\r\n\r\nexport const useAuth = (): UseAuthReturn => {\r\n  const dispatch = useDispatch();\r\n\r\n  const error = useSelector(authErrorSelector);\r\n\r\n  const clearError = React.useCallback(() => {\r\n    dispatch(authActions.removeError());\r\n  }, [dispatch]);\r\n\r\n  const isLoading = useSelector(isAuthLoadingSelector);\r\n\r\n  const loginFunction = React.useCallback((email: string) => {\r\n    const formatedEmail = email.includes('@') ? email : `${email}@salesloft.com`;\r\n\r\n    dispatch(authActions.login(formatedEmail));\r\n  }, [dispatch]);\r\n\r\n  const logoutFunction = React.useCallback(() => {\r\n    dispatch(authActions.restoreDefault());\r\n  }, [dispatch]);\r\n\r\n  return {\r\n    error,\r\n    clearError,\r\n    isLoading,\r\n    loginFunction,\r\n    logoutFunction,\r\n  };\r\n}\r\n","import * as React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { isLoggedSelector } from './selectors';\r\nimport LoginPage from './LoginPage';\r\n\r\nconst AuthGate: React.FC = ({ children }) => {\r\n  const isLogged = useSelector(isLoggedSelector);\r\n\r\n  if (!isLogged) {\r\n    return <LoginPage />\r\n  }\r\n\r\n  return <>{children}</>;\r\n};\r\n\r\nexport default AuthGate;\r\n","import { takeLatest, call, put } from 'redux-saga/effects';\r\nimport { authActions } from './slicer';\r\nimport axios, { AxiosResponse } from 'axios';\r\nimport { randomBetween } from '../util';\r\nimport { UserInfo } from '../types';\r\n\r\ninterface UserResponse {\r\n  data: UserInfo;\r\n  ad: any;\r\n}\r\n\r\nexport function* fetchUserInfoEffect() {\r\n  try {\r\n    const response: AxiosResponse<UserResponse> = yield call(axios.get, `https://reqres.in/api/users/${randomBetween(0, 12)}`);\r\n\r\n    yield put(authActions.receiveUserInfo(response.data.data));\r\n  } catch (error) {\r\n    const err = error.response?.data || error.message || 'Unknown Error';\r\n\r\n    yield put(authActions.rejectUserInfo(err));\r\n  }\r\n}\r\n\r\nexport function* authSagas() {\r\n  yield takeLatest(authActions.login.type, fetchUserInfoEffect);\r\n}\r\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\"\r\nimport { Mail } from \"../types\";\r\n\r\nexport const mailInitialState = {\r\n  isFetching: false,\r\n  lastKnownError: null as string | null,\r\n  mailList: [] as Mail[],\r\n}\r\n\r\nexport const { actions: mailActions, reducer: mailReducer } = createSlice({\r\n  initialState: mailInitialState,\r\n  name: 'mail',\r\n  reducers: {\r\n    fetchMails(state) {\r\n      state.isFetching = true;\r\n    },\r\n    receiveMails(state, { payload }: PayloadAction<Mail[]>) {\r\n      const uniqueList: { [id: number]: Mail } = state.mailList.reduce((prev, curr) => ({\r\n        ...prev,\r\n        [curr.id]: curr,\r\n      }), {});\r\n\r\n      payload.forEach((mail) => {\r\n        uniqueList[mail.id] = mail;\r\n      });\r\n\r\n      state.isFetching = false;\r\n      state.mailList = Object.values(uniqueList)\r\n        .sort((a, b) => Number(new Date(b.date)) - Number(new Date(a.date)));\r\n    },\r\n    rejectMails(state, { payload }: PayloadAction<string>) {\r\n      state.isFetching = false;\r\n      state.lastKnownError = payload;\r\n    },\r\n  },\r\n})\r\n","import { takeEvery, put } from 'redux-saga/effects';\r\nimport { mailActions } from './slicer';\r\nimport { Mail } from '../types';\r\n\r\nexport function* fetchMailsEffect() {\r\n  try {\r\n    const data: { default: { messages: Mail[] } } = yield import('./emails.json');\r\n\r\n    yield put(mailActions.receiveMails(data.default.messages));\r\n  } catch (error) {\r\n    yield put(mailActions.rejectMails(error.message));\r\n  }\r\n}\r\n\r\nexport function* mailSagas() {\r\n  yield takeEvery(mailActions.fetchMails.type, fetchMailsEffect);\r\n}\r\n","import {\r\n  configureStore,\r\n  getDefaultMiddleware,\r\n  StateFromReducersMapObject,\r\n  combineReducers,\r\n  EnhancedStore,\r\n  CombinedState,\r\n  AnyAction,\r\n  Middleware,\r\n} from '@reduxjs/toolkit';\r\nimport createSagaMiddleware, { SagaMiddleware } from 'redux-saga';\r\nimport { authReducer, authSagas } from '../Auth';\r\nimport { mailReducer, mailSagas } from '../Mail';\r\n\r\nconst mapReducer = {\r\n  auth: authReducer,\r\n  mail: mailReducer,\r\n};\r\n\r\nexport type State = StateFromReducersMapObject<typeof mapReducer>;\r\nexport type Store = EnhancedStore<CombinedState<State>, AnyAction, Middleware<SagaMiddleware>[]>\r\n\r\nexport const createStore = (): Store => {\r\n  const sagaMiddleware = createSagaMiddleware();\r\n\r\n  const store = configureStore({\r\n    reducer: combineReducers(mapReducer),\r\n    devTools: process.env.NODE_ENV !== 'production',\r\n    middleware: [...getDefaultMiddleware(), sagaMiddleware],\r\n  });\r\n\r\n  sagaMiddleware.run(authSagas);\r\n  sagaMiddleware.run(mailSagas);\r\n\r\n  return store;\r\n}\r\n","import * as React from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore } from './createStore';\r\n\r\nconst ReduxProvider: React.FC = ({ children }) => {\r\n  const store = React.useMemo(() => createStore(), []);\r\n\r\n  return (\r\n    <Provider store={store}>\r\n      {children}\r\n    </Provider>\r\n  );\r\n};\r\n\r\nexport default ReduxProvider;\r\n","import { State } from \"../store\";\r\nimport { createSelector } from \"@reduxjs/toolkit\";\r\n\r\nexport const mailRootStateSelector = (state: State) => state.mail;\r\n\r\nexport const mailListSelector = createSelector(\r\n  mailRootStateSelector,\r\n  mails => mails.mailList,\r\n);\r\n\r\nexport const isFetchingMailsSelector = createSelector(\r\n  mailRootStateSelector,\r\n  mails => mails.isFetching,\r\n);\r\n\r\nexport const lastMailsKnownErrorSelector = createSelector(\r\n  mailRootStateSelector,\r\n  mails => mails.lastKnownError,\r\n);\r\n\r\nexport const mailsTagsSelector = createSelector(\r\n  mailListSelector,\r\n  (mailList) => {\r\n    const uniqueTags: { [tag: string]: number } = {};\r\n\r\n    mailList.map(({ tags }) => tags).flat().forEach((tag) => {\r\n      if (!uniqueTags[tag]) {\r\n        uniqueTags[tag] = 1;\r\n      } else {\r\n        uniqueTags[tag] += 1;\r\n      }\r\n    });\r\n\r\n    console.log(uniqueTags);\r\n\r\n    return Object.keys(uniqueTags).sort((a, b) => uniqueTags[b] - uniqueTags[a]);\r\n  }\r\n);\r\n\r\nexport const mailListByTagSelector = (tag?: string) => createSelector(\r\n  mailListSelector,\r\n  mailList => tag ? mailList.filter(mail => mail.tags.includes(tag)) : mailList,\r\n);\r\n","import * as React from 'react';\r\nimport styled, { css } from 'styled-components';\r\nimport { useSwitch } from '../util';\r\nimport { IconButton, makeStyles, InputBase, fade, Avatar as MaterialAvatar, Button } from '@material-ui/core';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { userInfoSelector, authActions } from '../Auth';\r\nimport InboxIcon from '@material-ui/icons/Inbox';\r\nimport { mailsTagsSelector } from '../Mail/selectors';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\n\r\nconst Container = styled.div<{ isOpened: boolean }>`\r\n  ${({ isOpened }) => css`\r\n    align-items: stretch;\r\n    box-sizing: border-box;\r\n    display: flex;\r\n    flex-flow: column nowrap;\r\n    transition: all .3s cubic-bezier(.25, .8, .25, 1);\r\n    width: ${isOpened ? 256 : 72}px;\r\n\r\n    @media screen and (max-width: 400px) {\r\n      width: ${isOpened ? 256 : 0}px;\r\n    }\r\n  `}\r\n`;\r\n\r\nconst Header = styled.div`\r\n  align-items: center;\r\n  box-sizing: border-box;\r\n  display: flex;\r\n  flex-flow: row nowrap;\r\n  padding: 8px;\r\n  width: 100vw;\r\n`;\r\n\r\nconst Logo = styled.img`\r\n  margin-right: 70px;\r\n\r\n  @media screen and (max-width: 400px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst Avatar = styled(MaterialAvatar)`\r\n`\r\n\r\nconst Links = styled.div`\r\n  align-items: stretch;\r\n  box-sizing: border-box;\r\n  display: flex;\r\n  flex-flow: column nowrap;\r\n  overflow: hidden;\r\n  padding: 30px 12px 0 20px;\r\n  width: 100%;\r\n`;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  button: {\r\n    margin: '0 4px',\r\n  },\r\n  search: {\r\n    position: 'relative',\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: fade(theme.palette.common.white, 0.15),\r\n    '&:hover': {\r\n      backgroundColor: fade(theme.palette.common.white, 0.25),\r\n    },\r\n    flexGrow: 1,\r\n    marginRight: theme.spacing(2),\r\n    marginLeft: 0,\r\n    width: '100%',\r\n    [theme.breakpoints.up('sm')]: {\r\n      marginLeft: theme.spacing(3),\r\n      width: 'auto',\r\n    },\r\n  },\r\n  searchIcon: {\r\n    padding: theme.spacing(0, 2),\r\n    height: '100%',\r\n    position: 'absolute',\r\n    pointerEvents: 'none',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRoot: {\r\n    color: 'inherit',\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 0),\r\n    // vertical padding + font size from searchIcon\r\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n    transition: theme.transitions.create('width'),\r\n    width: '100%',\r\n    [theme.breakpoints.up('md')]: {\r\n      width: '30ch',\r\n    },\r\n  },\r\n  avatar: {\r\n    padding: 0,\r\n  },\r\n  link: {\r\n    borderRadius: 18,\r\n    fontSize: 14,\r\n    textTransform: 'capitalize',\r\n    '&.active': {\r\n      backgroundColor: '#fce8e6',\r\n      color: '#d93025',\r\n      fontWeight: 'bold',\r\n    },\r\n  },\r\n  linkText: {\r\n    justifyContent: 'flex-start',\r\n    textAlign: 'left',\r\n  },\r\n  linkIcon: {\r\n    marginRight: 18,\r\n    paddingLeft: 6,\r\n  },\r\n}));\r\n\r\nconst Navbar: React.FC = () => {\r\n  const dispatch = useDispatch();\r\n  const userInfo = useSelector(userInfoSelector);\r\n  const [isOpened, switchNavbar] = useSwitch(true);\r\n  const tags = useSelector(mailsTagsSelector);\r\n  const { pathname } = useLocation();\r\n  const { push } = useHistory();\r\n\r\n  const classes = useStyles();\r\n\r\n  const onLogout = React.useCallback(() => {\r\n    dispatch(authActions.restoreDefault());\r\n  }, [dispatch]);\r\n\r\n  const goTo = React.useCallback((path: string) => () => {\r\n    push(path);\r\n  }, [push]);\r\n\r\n  if (!userInfo) {\r\n    return null;\r\n  }\r\n\r\n  console.log(pathname);\r\n\r\n  return (\r\n    <Container isOpened={isOpened}>\r\n      <Header>\r\n        <IconButton className={classes.button} onClick={switchNavbar}>\r\n          <MenuIcon />\r\n        </IconButton>\r\n        <Logo\r\n          src=\"https://ssl.gstatic.com/ui/v1/icons/mail/rfr/logo_gmail_lockup_default_1x.png\"\r\n          srcSet=\"https://ssl.gstatic.com/ui/v1/icons/mail/rfr/logo_gmail_lockup_default_1x.png 1x, https://ssl.gstatic.com/ui/v1/icons/mail/rfr/logo_gmail_lockup_default_2x.png 2x \"\r\n          alt=\"\"\r\n          aria-hidden=\"true\"\r\n        />\r\n        <div className={classes.search}>\r\n          <div className={classes.searchIcon}>\r\n            <SearchIcon />\r\n          </div>\r\n          <InputBase\r\n            placeholder=\"Searchâ€¦\"\r\n            classes={{\r\n              root: classes.inputRoot,\r\n              input: classes.inputInput,\r\n            }}\r\n            inputProps={{ 'aria-label': 'search' }}\r\n          />\r\n        </div>\r\n        <IconButton className={classes.avatar} onClick={onLogout}>\r\n          <Avatar alt={userInfo.first_name} src={userInfo.avatar} />\r\n        </IconButton>\r\n      </Header>\r\n      <Links>\r\n        <Button\r\n          color=\"default\"\r\n          classes={{ root: classes.link, label: classes.linkText }}\r\n          className={pathname === '/' ? 'active' : ''}\r\n          onClick={goTo('/')}\r\n          startIcon={<InboxIcon className={classes.linkIcon} />}\r\n          variant=\"text\"\r\n        >\r\n          Inbox\r\n        </Button>\r\n        {tags.map(tag => (\r\n          <Button\r\n            color=\"default\"\r\n            classes={{ root: classes.link, label: classes.linkText }}\r\n            className={pathname === `/tags/${tag}` ? 'active' : ''}\r\n            key={tag}\r\n            onClick={goTo(`/tags/${tag}`)}\r\n            startIcon={<InboxIcon className={classes.linkIcon} />}\r\n            variant=\"text\"\r\n          >\r\n            {tag}\r\n          </Button>\r\n        ))}\r\n      </Links>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import * as React from 'react';\r\n\r\nexport default function useSwitch(initialState = false): [boolean, () => void] {\r\n  const [isTrue, setValue] = React.useState(initialState);\r\n\r\n  const switchFn = React.useCallback(() => {\r\n    setValue(!isTrue);\r\n  }, [isTrue]);\r\n\r\n  return [isTrue, switchFn];\r\n}\r\n","import * as React from 'react';\r\nimport styled from 'styled-components';\r\nimport Navbar from './Navbar';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nconst Container = styled.div`\r\n  align-items: stretch;\r\n  background-color: white;\r\n  display: flex;\r\n  flex-direction: row nowrap;\r\n  height: 100vh;\r\n  width: 100vw;\r\n`;\r\n\r\nconst Children = styled.div`\r\n  box-sizing: border-box;\r\n  flex-grow: 1;\r\n  margin-top: 64px;\r\n`;\r\n\r\nconst Nav: React.FC = ({ children }) => (\r\n  <Container>\r\n    <BrowserRouter>\r\n      <Navbar />\r\n      <Children>{children}</Children>\r\n    </BrowserRouter>\r\n  </Container>\r\n);\r\n\r\nexport default Nav;\r\n","import * as React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { mailActions } from './slicer';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { mailListByTagSelector, isFetchingMailsSelector } from './selectors';\r\nimport { CircularProgress } from '@material-ui/core';\r\n\r\nconst MailList: React.FC = () => {\r\n  const dispatch = useDispatch();\r\n  const { pathname } = useLocation();\r\n\r\n  const mailList = useSelector(mailListByTagSelector(pathname === '/' ? undefined : pathname.replace('/tags/', '')));\r\n  const isFetchingMails = useSelector(isFetchingMailsSelector);\r\n  \r\n  React.useEffect(() => {\r\n    dispatch(mailActions.fetchMails());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <div>\r\n      {isFetchingMails && <CircularProgress />}\r\n      <pre>{JSON.stringify(mailList, undefined, 2)}</pre>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MailList;\r\n","import * as React from 'react';\r\nimport { Nav } from './Nav';\r\nimport MailList from './Mail/MailList';\r\n\r\nconst App: React.FC = () => <Nav><MailList /></Nav>;\r\n\r\nexport default App;\r\n","import * as React from 'react';\nimport { render } from 'react-dom';\nimport { ReduxProvider } from './store';\nimport { AuthGate } from './Auth';\nimport './fonts/fonts.css';\nimport { Theme } from './util';\nimport App from './App';\n\nrender(\n  <React.StrictMode>\n    <ReduxProvider>\n      <Theme>\n        <AuthGate>\n          <App />\n        </AuthGate>\n      </Theme>\n    </ReduxProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","module.exports = __webpack_public_path__ + \"static/media/googleLogo.95be05e4.svg\";"],"sourceRoot":""}