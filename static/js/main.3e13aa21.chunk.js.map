{"version":3,"sources":["Auth/selectors.ts","Auth/slicer.ts","util/randomBetween.ts","util/Theme.tsx","util/regex.ts","Auth/LoginPage.tsx","Auth/hooks.ts","Auth/AuthGate.tsx","Auth/sagas.ts","Mail/slicer.ts","Mail/sagas.ts","Mail/selectors.ts","Mail/MailList.tsx","Mail/Mail.tsx","store/createStore.ts","store/ReduxProvider.tsx","Nav/Navbar.tsx","util/useSwitch.ts","Nav/Nav.tsx","App.tsx","index.tsx","Auth/googleLogo.svg"],"names":["authRootStateSelector","state","auth","isAuthLoadingSelector","createSelector","isFetching","isLoggedSelector","user","userInfoSelector","authErrorSelector","error","authInitialState","email","JSON","parse","localStorage","getItem","createSlice","initialState","name","reducers","restoreDefault","removeItem","login","action","payload","receiveUserInfo","setItem","stringify","rejectUserInfo","removeError","authActions","actions","authReducer","reducer","randomBetween","start","end","Error","Math","floor","random","theme","createMuiTheme","typography","fontFamily","palette","primary","main","Themed","children","ThemeProvider","emailRegex","Container","styled","div","useStyles","makeStyles","card","alignItems","border","boxSizing","display","flexFlow","padding","maxWidth","width","title","fontSize","marginTop","textAlign","subtitle","input","disclaimer","color","button","textTransform","helperText","helperTextIcon","marginRight","LoginPage","dispatch","useDispatch","React","setEmail","useSelector","clearError","isLoading","loginFunction","formatedEmail","includes","logoutFunction","useAuth","onLogin","test","classes","Paper","className","src","googleLogo","alt","Typography","TextField","id","label","variant","value","onChange","currentTarget","trim","Grid","container","Link","href","Button","onClick","CircularProgress","size","AuthGate","fetchUserInfoEffect","authSagas","call","axios","get","response","put","data","err","message","takeLatest","type","lastKnownError","mailList","fetchMails","receiveMails","uniqueList","reduce","prev","curr","forEach","mail","Number","isReaded","isDeleted","isFavorite","Object","values","sort","a","b","Date","date","rejectMails","readMail","find","deleteMail","restoreMail","removeMail","mailIx","findIndex","splice","switchFavorite","mailActions","mailReducer","fetchMailsEffect","mailSagas","delay","default","messages","takeEvery","mailRootStateSelector","mailListSelector","mails","isFetchingMailsSelector","mailsTagsSelector","uniqueTags","map","tags","flat","tag","keys","Controls","MailItemContainer","OnlyDesktop","span","MailList","pathname","useLocation","push","useHistory","goTo","path","filter","replace","isFetchingMails","mailIds","selected","setSelected","onSelectAll","length","onSelect","selectedIx","indexOf","newSelection","onSwitchFavorite","onDelete","onRestore","onRemove","Divider","Checkbox","checked","indeterminate","IconButton","aria-label","key","icon","checkedIcon","noWrap","sender","style","flex","subject","format","Mail","mailId","useRouteMatch","params","marginBottom","dangerouslySetInnerHTML","__html","body","to","mapReducer","ReduxProvider","store","sagaMiddleware","createSagaMiddleware","configureStore","combineReducers","devTools","process","middleware","getDefaultMiddleware","run","createStore","isOpened","css","Header","Logo","img","Avatar","MaterialAvatar","Links","margin","search","position","borderRadius","shape","backgroundColor","fade","common","white","flexGrow","spacing","marginLeft","breakpoints","up","searchIcon","height","pointerEvents","justifyContent","inputRoot","inputInput","paddingLeft","transition","transitions","create","avatar","link","fontWeight","linkText","linkIcon","Navbar","userInfo","isTrue","setValue","switchFn","useSwitch","switchNavbar","onLogout","srcSet","aria-hidden","InputBase","placeholder","root","inputProps","first_name","startIcon","Children","Nav","App","component","render","Theme","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.3e13aa21.chunk.js","sourcesContent":["import { State } from \"../store\";\nimport { createSelector } from \"@reduxjs/toolkit\";\n\nexport const authRootStateSelector = (state: State) => state.auth;\n\nexport const isAuthLoadingSelector = createSelector(\n  authRootStateSelector,\n  auth => auth.isFetching,\n);\n\nexport const isLoggedSelector = createSelector(\n  authRootStateSelector,\n  auth => auth.user !== null,\n);\n\nexport const userInfoSelector = createSelector(\n  authRootStateSelector,\n  auth => auth.user,\n);\n\nexport const authErrorSelector = createSelector(\n  authRootStateSelector,\n  auth => auth.error,\n);\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\"\nimport { UserInfo } from \"../types\";\n\nexport const STORE_KEY = 'USER_INFO';\n\nexport const authInitialState = {\n  email: '',\n  error: null as string | null,\n  isFetching: false,\n  user: JSON.parse(localStorage.getItem(STORE_KEY) || 'null') as UserInfo | null,\n};\n\nexport const { actions: authActions, reducer: authReducer } = createSlice({\n  initialState: authInitialState,\n  name: 'auth',\n  reducers: {\n    restoreDefault() {\n      localStorage.removeItem(STORE_KEY);\n\n      return authInitialState;\n    },\n    login(state, action: PayloadAction<string>) {\n      state.isFetching = true;\n      state.email = action.payload;\n    },\n    receiveUserInfo(state, action: PayloadAction<UserInfo>) {\n      state.isFetching = false;\n      state.user = action.payload;\n      state.user.email = state.email;\n\n      localStorage.setItem(STORE_KEY, JSON.stringify(state.user));\n    },\n    rejectUserInfo(state, action: PayloadAction<string>) {\n      state.isFetching = false;\n      state.error = action.payload;\n    },\n    removeError(state) {\n      state.error = null;\n    },\n  },\n});\n","const randomBetween = (start: number, end: number) => {\n  if (end < start) {\n    throw new Error('Left number should be lower than right number');\n  }\n\n  return Math.floor(Math.random() * end) + start;\n};\n\nexport default randomBetween;\n","import * as React from 'react';\nimport { ThemeProvider, createMuiTheme } from '@material-ui/core';\n\n// const defaultTheme = createMuiTheme();\n\nconst theme = createMuiTheme({\n  typography: {\n    fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n  },\n  palette: {\n    primary: {\n      main: 'rgb(26, 115, 232)',\n    },\n    error: {\n      main: '#d93025',\n    },\n  },\n});\n\nconst Themed: React.FC = ({ children }) => {\n  return (\n    <ThemeProvider theme={theme}>\n      {children}\n    </ThemeProvider>\n  );\n};\n\nexport default Themed;\n","export const emailRegex = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n","import * as React from 'react';\nimport { useAuth } from './hooks';\nimport styled from 'styled-components';\nimport { Paper, Typography, makeStyles, TextField, Link, Button, Grid, CircularProgress } from '@material-ui/core';\nimport googleLogo from './googleLogo.svg';\nimport { useDispatch } from 'react-redux';\nimport { authActions } from './slicer';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport { emailRegex } from '../util';\n\nconst Container = styled.div`\n  align-items: center;\n  background-color: white;\n  display: flex;\n  height: 100vh;\n  justify-content: center;\n  width: 100%;\n`;\n\nconst useStyles = makeStyles({\n  card: {\n    alignItems: 'center',\n    border: '1px solid #dadce0',\n    boxSizing: 'border-box',\n    display: 'flex',\n    flexFlow: 'column nowrap',\n    padding: '40px 40px 36px',\n    maxWidth: 448,\n    width: '100%',\n  },\n  title: {\n    fontFamily: 'Product Sans',\n    fontSize: 24,\n    marginTop: 16,\n    textAlign: 'center',\n  },\n  subtitle: {\n    marginTop: 8,\n    textAlign: 'center',\n  },\n  input: {\n    marginTop: 32,\n    width: '100%',\n  },\n  disclaimer: {\n    color: '#5f6368',\n    fontSize: 14,\n    marginTop: 32,\n  },\n  button: {\n    fontFamily: 'Product Sans',\n    marginTop: 32,\n    textTransform: 'capitalize',\n  },\n  helperText: {\n    fontSize: 12,\n  },\n  helperTextIcon: {\n    fontSize: 14,\n    marginRight: 8,\n  },\n});\n\nconst LoginPage: React.FC = () => {\n  const dispatch = useDispatch();\n  const [email, setEmail] = React.useState('');\n  const { clearError, error, isLoading, loginFunction } = useAuth();\n\n  const onLogin = React.useCallback(() => {\n    if (email && ((email.includes('@') && emailRegex.test(email)) || (!email.includes('@')))) {\n      loginFunction(email);\n    } else if (!email) {\n      dispatch(authActions.rejectUserInfo('Enter an email'));\n    } else {\n      dispatch(authActions.rejectUserInfo('Enter a valid email'));\n    }\n  }, [dispatch, email, loginFunction]);\n\n  React.useEffect(() => {\n    clearError();\n  }, [clearError, email]);\n\n  const classes = useStyles();\n\n  return (\n    <Container>\n      <Paper className={classes.card}>\n        <img src={googleLogo} alt=\"Google\" />\n        <Typography className={classes.title}>Sign In</Typography>\n        <Typography className={classes.subtitle}>to continue to Gmail</Typography>\n        <TextField\n          className={classes.input}\n          id=\"email\"\n          label=\"Email\"\n          variant=\"outlined\"\n          value={email}\n          onChange={({ currentTarget: { value } }) => setEmail(value.trim())}\n          error={!!error}\n          helperText={error && (\n            <Grid container>\n              <ErrorIcon className={classes.helperTextIcon} />\n              <Typography className={classes.helperText}>{error}</Typography>\n            </Grid>\n          )}\n        />\n        <Typography className={classes.disclaimer}>\n          Not your computer? Use a private browsing window to sign in.{' '}\n          <Link href=\"https://support.google.com/accounts?p=signin_privatebrowsing&hl=en\">\n            Learn more\n          </Link>\n        </Typography>\n        <Button\n          className={classes.button}\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={onLogin}\n        >\n          {isLoading && <CircularProgress color=\"inherit\" size={24} />}\n          {!isLoading && 'Next'}\n        </Button>\n      </Paper>\n    </Container>\n  );\n};\n\nexport default LoginPage;\n","import * as React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { authActions } from './slicer';\nimport { isAuthLoadingSelector, authErrorSelector } from './selectors';\n\ninterface UseAuthReturn {\n  error: string | null;\n  isLoading: boolean;\n  loginFunction: (email: string) => void;\n  logoutFunction: () => void;\n  clearError: () => void;\n}\n\nexport const useAuth = (): UseAuthReturn => {\n  const dispatch = useDispatch();\n\n  const error = useSelector(authErrorSelector);\n\n  const clearError = React.useCallback(() => {\n    dispatch(authActions.removeError());\n  }, [dispatch]);\n\n  const isLoading = useSelector(isAuthLoadingSelector);\n\n  const loginFunction = React.useCallback((email: string) => {\n    const formatedEmail = email.includes('@') ? email : `${email}@salesloft.com`;\n\n    dispatch(authActions.login(formatedEmail));\n  }, [dispatch]);\n\n  const logoutFunction = React.useCallback(() => {\n    dispatch(authActions.restoreDefault());\n  }, [dispatch]);\n\n  return {\n    error,\n    clearError,\n    isLoading,\n    loginFunction,\n    logoutFunction,\n  };\n}\n","import * as React from 'react';\nimport { useSelector } from 'react-redux';\nimport { isLoggedSelector } from './selectors';\nimport LoginPage from './LoginPage';\n\nconst AuthGate: React.FC = ({ children }) => {\n  const isLogged = useSelector(isLoggedSelector);\n\n  if (!isLogged) {\n    return <LoginPage />\n  }\n\n  return <>{children}</>;\n};\n\nexport default AuthGate;\n","import { takeLatest, call, put } from 'redux-saga/effects';\nimport { authActions } from './slicer';\nimport axios, { AxiosResponse } from 'axios';\nimport { randomBetween } from '../util';\nimport { UserInfo } from '../types';\n\ninterface UserResponse {\n  data: UserInfo;\n  ad: any;\n}\n\nexport function* fetchUserInfoEffect() {\n  try {\n    const response: AxiosResponse<UserResponse> = yield call(axios.get, `https://reqres.in/api/users/${randomBetween(0, 12)}`);\n\n    yield put(authActions.receiveUserInfo(response.data.data));\n  } catch (error) {\n    const err = error.response?.data || error.message || 'Unknown Error';\n\n    yield put(authActions.rejectUserInfo(err));\n  }\n}\n\nexport function* authSagas() {\n  yield takeLatest(authActions.login.type, fetchUserInfoEffect);\n}\n","import { createSlice, PayloadAction } from \"@reduxjs/toolkit\"\nimport { Mail } from \"../types\";\n\nexport const mailInitialState = {\n  isFetching: false,\n  lastKnownError: null as string | null,\n  mailList: [] as Mail[],\n}\n\nexport const { actions: mailActions, reducer: mailReducer } = createSlice({\n  initialState: mailInitialState,\n  name: 'mail',\n  reducers: {\n    fetchMails(state) {\n      state.isFetching = true;\n    },\n    receiveMails(state, { payload }: PayloadAction<Mail[]>) {\n      const uniqueList: { [id: number]: Mail } = state.mailList.reduce((prev, curr) => ({\n        ...prev,\n        [curr.id]: curr,\n      }), {});\n\n      payload.forEach((mail) => {\n        if (!uniqueList[mail.id]) {\n          uniqueList[mail.id] = {\n            ...mail,\n            id: Number(mail.id),\n            isReaded: false,\n            isDeleted: false,\n            isFavorite: false,\n          };\n        }\n      });\n\n      state.isFetching = false;\n      state.mailList = Object.values(uniqueList)\n        .sort((a, b) => Number(new Date(b.date)) - Number(new Date(a.date)));\n    },\n    rejectMails(state, { payload }: PayloadAction<string>) {\n      state.isFetching = false;\n      state.lastKnownError = payload;\n    },\n    readMail(state, { payload }: PayloadAction<number>) {\n      const mail = state.mailList.find(({ id }) => id === payload);\n\n      if (mail) {\n        mail.isReaded = true;\n      }\n    },\n    deleteMail(state, { payload }: PayloadAction<number>) {\n      const mail = state.mailList.find(({ id }) => id === payload);\n\n      if (mail) {\n        mail.isDeleted = true;\n      }\n    },\n    restoreMail(state, { payload }: PayloadAction<number>) {\n      const mail = state.mailList.find(({ id }) => id === payload);\n\n      if (mail) {\n        mail.isDeleted = false;\n      }\n    },\n    removeMail(state, { payload }: PayloadAction<number>) {\n      const mailIx = state.mailList.findIndex(({ id }) => id === payload);\n\n      if (mailIx >= 0) {\n        state.mailList.splice(mailIx, 1);\n      }\n    },\n    switchFavorite(state, { payload }: PayloadAction<number>) {\n      const mail = state.mailList.find(({ id }) => id === payload);\n\n      if (mail) {\n        mail.isFavorite = !mail.isFavorite;\n      }\n    },\n  },\n});\n","import { takeEvery, put, delay } from 'redux-saga/effects';\nimport { mailActions } from './slicer';\nimport { Mail } from '../types';\n\nexport function* fetchMailsEffect() {\n  try {\n    yield delay(2000);\n    const data: { default: { messages: Mail[] } } = yield import('./emails.json');\n\n    yield put(mailActions.receiveMails(data.default.messages));\n  } catch (error) {\n    yield put(mailActions.rejectMails(error.message));\n  }\n}\n\nexport function* mailSagas() {\n  yield takeEvery(mailActions.fetchMails.type, fetchMailsEffect);\n}\n","import { State } from \"../store\";\nimport { createSelector } from \"@reduxjs/toolkit\";\nimport { Mail } from \"../types\";\n\nexport const mailRootStateSelector = (state: State) => state.mail;\n\nexport const mailListSelector = createSelector(\n  mailRootStateSelector,\n  mails => mails.mailList,\n);\n\nexport const isFetchingMailsSelector = createSelector(\n  mailRootStateSelector,\n  mails => mails.isFetching,\n);\n\nexport const lastMailsKnownErrorSelector = createSelector(\n  mailRootStateSelector,\n  mails => mails.lastKnownError,\n);\n\nexport const mailsTagsSelector = createSelector(\n  mailListSelector,\n  (mailList) => {\n    const uniqueTags: { [tag: string]: number } = {};\n\n    mailList.map(({ tags }) => tags).flat().forEach((tag) => {\n      if (!uniqueTags[tag]) {\n        uniqueTags[tag] = 1;\n      } else {\n        uniqueTags[tag] += 1;\n      }\n    });\n\n    return Object.keys(uniqueTags).sort((a, b) => uniqueTags[b] - uniqueTags[a]);\n  }\n);\n\nexport const mailListByTagSelector = (tag?: string) => createSelector(\n  mailListSelector,\n  (mailList) => {\n    if (!tag || (tag && tag === '/')) {\n      return mailList.filter(({ isDeleted }) => !isDeleted);\n    } else if (tag.includes('/tags/')) {\n      return mailList.filter(mail => mail.tags.includes(tag.replace('/tags/', '')) && !mail.isDeleted);\n    } else if (tag.includes('/starred')) {\n      return mailList.filter(({ isDeleted, isFavorite }) => isFavorite && !isDeleted);\n    } else if (tag.includes('/trash')) {\n      return mailList.filter(({ isDeleted }) => isDeleted);\n    }\n\n    return [] as Mail[];\n  },\n);\n\nexport const mailSelector = (id: number) => createSelector(\n  mailListSelector,\n  mailList => mailList.find(mail => mail.id === id),\n);\n","import * as React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { mailActions } from './slicer';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport { mailListByTagSelector, isFetchingMailsSelector } from './selectors';\nimport { CircularProgress, Divider, IconButton, Checkbox, Typography } from '@material-ui/core';\nimport { format } from 'date-fns';\nimport styled from 'styled-components';\nimport ReplayIcon from '@material-ui/icons/Replay';\nimport StarIcon from '@material-ui/icons/Star';\nimport StarBorderIcon from '@material-ui/icons/StarBorder';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport RestoreFromTrashIcon from '@material-ui/icons/RestoreFromTrash';\n\nconst Container = styled.div`\n  align-items: stretch;\n  display: flex;\n  flex-flow: column nowrap;\n  width: 100%;\n\n  @media screen and (max-width: 400px) {\n    width: 100vw;\n  }\n`;\n\nexport const Controls = styled.div`\n  align-items: center;\n  display: flex;\n  flex-flow: row nowrap;\n`;\n\nconst MailItemContainer = styled.div`\n  align-items: center;\n  border-bottom: 1px solid transparent;\n  border-top: 1px solid transparent;\n  cursor: pointer;\n  display: flex;\n  flex-flow: row nowrap;\n  padding-right: 20px;\n\n  &:hover {\n    border-bottom-color: rgba(0, 0, 0, 0.12);\n    border-top-color: rgba(0, 0, 0, 0.12);\n  }\n`;\n\nconst OnlyDesktop = styled.span`\n  flex: 1;\n  margin-right: 10px;\n\n  @media screen and (max-width: 400px) {\n    display: none;\n  }\n`;\n\nconst MailList: React.FC = () => {\n  const dispatch = useDispatch();\n  const { pathname } = useLocation();\n  const { push } = useHistory();\n\n  const goTo = React.useCallback((path: string) => () => {\n    push(path);\n  }, [push]);\n\n  const mailList = useSelector(mailListByTagSelector(pathname));\n  const isFetchingMails = useSelector(isFetchingMailsSelector);\n  const fetchMails = React.useCallback(() => {\n    dispatch(mailActions.fetchMails());\n  }, [dispatch]);\n\n  const mailIds = React.useMemo(() => mailList.map(({ id }) => id), [mailList]);\n  const [selected, setSelected] = React.useState<number[]>([]);\n\n  const onSelectAll = React.useCallback(() => {\n    if (selected.length) {\n      setSelected([]);\n    } else {\n      setSelected(mailIds);\n    }\n  }, [mailIds, selected]);\n\n  const onSelect = React.useCallback((id) => () => {\n    const selectedIx = selected.indexOf(id);\n    if (selectedIx === -1) {\n      setSelected([...selected, id]);\n    } else {\n      const newSelection = [...selected];\n      newSelection.splice(selectedIx, 1);\n      setSelected(newSelection);\n    }\n  }, [selected]);\n\n  const onSwitchFavorite = React.useCallback((id) => () => {\n    dispatch(mailActions.switchFavorite(id));\n  }, [dispatch]);\n\n  const onDelete = React.useCallback(() => {\n    selected.forEach(id => dispatch(mailActions.deleteMail(id)));\n  }, [dispatch, selected]);\n  const onRestore = React.useCallback(() => {\n    selected.forEach(id => dispatch(mailActions.restoreMail(id)));\n  }, [dispatch, selected]);\n  const onRemove = React.useCallback(() => {\n    selected.forEach(id => dispatch(mailActions.removeMail(id)));\n  }, [dispatch, selected]);\n  \n  React.useEffect(() => {\n    if (!mailList.length) {\n      fetchMails();\n    }\n  }, [fetchMails, mailList.length]);\n\n  React.useEffect(() => {\n    setSelected([]);\n  }, [pathname]);\n\n  return (\n    <Container>\n      <Divider />\n      <Controls>\n        <Checkbox\n          checked={JSON.stringify(selected.sort()) === JSON.stringify(mailIds.sort())}\n          onChange={onSelectAll}\n          indeterminate={!!selected.length}\n        />\n        {selected.length ? (\n          <>\n            {pathname === '/trash' && (\n              <IconButton aria-label=\"restore\" onClick={onRestore}>\n                <RestoreFromTrashIcon fontSize=\"small\" />\n              </IconButton>\n            )}\n            <IconButton aria-label=\"delete\" onClick={pathname === '/trash' ? onRemove : onDelete}>\n              <DeleteIcon fontSize=\"small\" />\n            </IconButton>\n          </>\n        ) : (\n          <IconButton aria-label=\"refresh\" onClick={fetchMails}>\n            <ReplayIcon fontSize=\"small\" />\n          </IconButton>\n        )}\n      </Controls>\n      <Divider />\n      {isFetchingMails && <CircularProgress />}\n      {mailList.map((mail) => (\n        <MailItemContainer key={mail.id}>\n          <Checkbox checked={selected.includes(mail.id)} onChange={onSelect(mail.id)} />\n          <Checkbox\n            icon={<StarBorderIcon />}\n            checkedIcon={<StarIcon />}\n            onChange={onSwitchFavorite(mail.id)}\n            checked={mail.isFavorite}\n          />\n          <OnlyDesktop>\n            <Typography onClick={goTo(`/mail/${mail.id}`)} noWrap>{mail.sender}</Typography>\n          </OnlyDesktop>\n          <Typography onClick={goTo(`/mail/${mail.id}`)} noWrap style={{ flex: 3 }}>\n            {mail.subject}\n          </Typography>\n          <Typography>{format(new Date(mail.date), 'PP')}</Typography>\n        </MailItemContainer>\n      ))}\n    </Container>\n  );\n};\n\nexport default MailList;\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport { Typography, Divider, IconButton, Checkbox } from '@material-ui/core';\nimport { useRouteMatch, Redirect, useHistory } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport StarIcon from '@material-ui/icons/Star';\nimport StarBorderIcon from '@material-ui/icons/StarBorder';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport { mailSelector } from './selectors';\nimport { Controls } from './MailList';\nimport { mailActions } from './slicer';\n\nconst Container = styled.div`\n  box-sizing: border-box;\n  height: calc(100vh - 64px);\n  overflow: auto;\n  padding: 32px;\n  width: 100%;\n\n  @media screen and (max-width: 400px) {\n    width: 100vw;\n  }\n`;\n\nconst Mail: React.FC = () => {\n  const dispatch = useDispatch();\n  const { params: { id: mailId } } = useRouteMatch<{ id?: string }>();\n  const mail = useSelector(mailSelector(Number(mailId)));\n  const { push } = useHistory();\n\n  const goTo = React.useCallback((path: string) => () => {\n    push(path);\n  }, [push]);\n\n  const onSwitchFavorite = React.useCallback(() => {\n    dispatch(mailActions.switchFavorite(Number(mailId)));\n  }, [dispatch, mailId]);\n\n  const onDelete = React.useCallback(() => {\n    if (mail?.isDeleted) {\n      dispatch(mailActions.removeMail(Number(mailId)));\n      goTo('/trash')();\n    } else {\n      dispatch(mailActions.deleteMail(Number(mailId)));\n      goTo('/')();\n    }\n  }, [dispatch, goTo, mail, mailId]);\n\n  if (!mailId || !mail) {\n    return <Redirect to=\"/\" />;\n  }\n\n  return (\n    <Container>\n      <Divider />\n        <Controls>\n          <IconButton aria-label=\"back\" onClick={goTo('/')}>\n            <ArrowBackIcon fontSize=\"small\" />\n          </IconButton>\n          <Checkbox\n            icon={<StarBorderIcon />}\n            checkedIcon={<StarIcon />}\n            onChange={onSwitchFavorite}\n            checked={mail.isFavorite}\n          />\n          <IconButton aria-label=\"delete\" onClick={onDelete}>\n            <DeleteIcon fontSize=\"small\" />\n          </IconButton>\n        </Controls>\n      <Divider />\n      <Typography variant=\"h5\" style={{ marginBottom: '3rem' }}>{mail.subject}</Typography>\n      <div dangerouslySetInnerHTML={{ __html: mail.body }} />\n    </Container>\n  );\n};\n\nexport default Mail;\n","import {\n  configureStore,\n  getDefaultMiddleware,\n  StateFromReducersMapObject,\n  combineReducers,\n  EnhancedStore,\n  CombinedState,\n  AnyAction,\n  Middleware,\n} from '@reduxjs/toolkit';\nimport createSagaMiddleware, { SagaMiddleware } from 'redux-saga';\nimport { authReducer, authSagas } from '../Auth';\nimport { mailReducer, mailSagas } from '../Mail';\n\nconst mapReducer = {\n  auth: authReducer,\n  mail: mailReducer,\n};\n\nexport type State = StateFromReducersMapObject<typeof mapReducer>;\nexport type Store = EnhancedStore<CombinedState<State>, AnyAction, Middleware<SagaMiddleware>[]>\n\nexport const createStore = (): Store => {\n  const sagaMiddleware = createSagaMiddleware();\n\n  const store = configureStore({\n    reducer: combineReducers(mapReducer),\n    devTools: process.env.NODE_ENV !== 'production',\n    middleware: [...getDefaultMiddleware(), sagaMiddleware],\n  });\n\n  sagaMiddleware.run(authSagas);\n  sagaMiddleware.run(mailSagas);\n\n  return store;\n}\n","import * as React from 'react';\nimport { Provider } from 'react-redux';\nimport { createStore } from './createStore';\n\nconst ReduxProvider: React.FC = ({ children }) => {\n  const store = React.useMemo(() => createStore(), []);\n\n  return (\n    <Provider store={store}>\n      {children}\n    </Provider>\n  );\n};\n\nexport default ReduxProvider;\n","import * as React from 'react';\nimport styled, { css } from 'styled-components';\nimport { useSwitch } from '../util';\nimport { IconButton, makeStyles, InputBase, fade, Avatar as MaterialAvatar, Button } from '@material-ui/core';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport SearchIcon from '@material-ui/icons/Search';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport StarIcon from '@material-ui/icons/Star';\nimport LabelImportantIcon from '@material-ui/icons/LabelImportant';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { userInfoSelector, authActions } from '../Auth';\nimport InboxIcon from '@material-ui/icons/Inbox';\nimport { mailsTagsSelector } from '../Mail/selectors';\nimport { useHistory, useLocation, Redirect } from 'react-router-dom';\n\nconst Container = styled.div<{ isOpened: boolean }>`\n  ${({ isOpened }) => css`\n    align-items: stretch;\n    box-sizing: border-box;\n    display: flex;\n    flex-flow: column nowrap;\n    transition: all .3s cubic-bezier(.25, .8, .25, 1);\n    width: ${isOpened ? 256 : 72}px;\n\n    @media screen and (max-width: 400px) {\n      width: ${isOpened ? 256 : 0}px;\n    }\n  `}\n`;\n\nconst Header = styled.div`\n  align-items: center;\n  box-sizing: border-box;\n  display: flex;\n  flex-flow: row nowrap;\n  padding: 8px;\n  width: 100vw;\n`;\n\nconst Logo = styled.img`\n  margin-right: 70px;\n\n  @media screen and (max-width: 400px) {\n    display: none;\n  }\n`;\n\nconst Avatar = styled(MaterialAvatar)`\n`\n\nconst Links = styled.div`\n  align-items: stretch;\n  box-sizing: border-box;\n  display: flex;\n  flex-flow: column nowrap;\n  overflow: hidden;\n  padding: 30px 12px 0 20px;\n  width: 100%;\n`;\n\nconst useStyles = makeStyles(theme => ({\n  button: {\n    margin: '0 4px',\n  },\n  search: {\n    position: 'relative',\n    borderRadius: theme.shape.borderRadius,\n    backgroundColor: fade(theme.palette.common.white, 0.15),\n    '&:hover': {\n      backgroundColor: fade(theme.palette.common.white, 0.25),\n    },\n    flexGrow: 1,\n    marginRight: theme.spacing(2),\n    marginLeft: 0,\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: theme.spacing(3),\n      width: 'auto',\n    },\n  },\n  searchIcon: {\n    padding: theme.spacing(0, 2),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  inputRoot: {\n    color: 'inherit',\n  },\n  inputInput: {\n    padding: theme.spacing(1, 1, 1, 0),\n    // vertical padding + font size from searchIcon\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n    transition: theme.transitions.create('width'),\n    width: '100%',\n    [theme.breakpoints.up('md')]: {\n      width: '30ch',\n    },\n  },\n  avatar: {\n    padding: 0,\n  },\n  link: {\n    borderRadius: 18,\n    fontSize: 14,\n    textTransform: 'capitalize',\n    '&.active': {\n      backgroundColor: '#fce8e6',\n      color: '#d93025',\n      fontWeight: 'bold',\n    },\n  },\n  linkText: {\n    justifyContent: 'flex-start',\n    textAlign: 'left',\n  },\n  linkIcon: {\n    marginRight: 18,\n    paddingLeft: 6,\n  },\n}));\n\nconst Navbar: React.FC = () => {\n  const dispatch = useDispatch();\n  const userInfo = useSelector(userInfoSelector);\n  const [isOpened, switchNavbar] = useSwitch(true);\n  const tags = useSelector(mailsTagsSelector);\n  const { pathname } = useLocation();\n  const { push } = useHistory();\n\n  const classes = useStyles();\n\n  const onLogout = React.useCallback(() => {\n    dispatch(authActions.restoreDefault());\n  }, [dispatch]);\n\n  const goTo = React.useCallback((path: string) => () => {\n    push(path);\n  }, [push]);\n\n  if (!userInfo) {\n    return null;\n  }\n\n  return (\n    <Container isOpened={isOpened}>\n      {pathname.includes('ui-exercise') && <Redirect to=\"/\" />}\n      <Header>\n        <IconButton className={classes.button} onClick={switchNavbar}>\n          <MenuIcon />\n        </IconButton>\n        <Logo\n          src=\"https://ssl.gstatic.com/ui/v1/icons/mail/rfr/logo_gmail_lockup_default_1x.png\"\n          srcSet=\"https://ssl.gstatic.com/ui/v1/icons/mail/rfr/logo_gmail_lockup_default_1x.png 1x, https://ssl.gstatic.com/ui/v1/icons/mail/rfr/logo_gmail_lockup_default_2x.png 2x \"\n          alt=\"\"\n          aria-hidden=\"true\"\n        />\n        <div className={classes.search}>\n          <div className={classes.searchIcon}>\n            <SearchIcon />\n          </div>\n          <InputBase\n            placeholder=\"Search…\"\n            classes={{\n              root: classes.inputRoot,\n              input: classes.inputInput,\n            }}\n            inputProps={{ 'aria-label': 'search' }}\n          />\n        </div>\n        <IconButton className={classes.avatar} onClick={onLogout}>\n          <Avatar alt={userInfo.first_name} src={userInfo.avatar} />\n        </IconButton>\n      </Header>\n      <Links>\n        <Button\n          color=\"default\"\n          classes={{ root: classes.link, label: classes.linkText }}\n          className={pathname === '/' ? 'active' : ''}\n          onClick={goTo('/')}\n          startIcon={<InboxIcon className={classes.linkIcon} />}\n          variant=\"text\"\n        >\n          Inbox\n        </Button>\n        <Button\n          color=\"default\"\n          classes={{ root: classes.link, label: classes.linkText }}\n          className={pathname === '/starred' ? 'active' : ''}\n          onClick={goTo('/starred')}\n          startIcon={<StarIcon className={classes.linkIcon} />}\n          variant=\"text\"\n        >\n          Starred\n        </Button>\n        {tags.map(tag => (\n          <Button\n            color=\"default\"\n            classes={{ root: classes.link, label: classes.linkText }}\n            className={pathname === `/tags/${tag}` ? 'active' : ''}\n            key={tag}\n            onClick={goTo(`/tags/${tag}`)}\n            startIcon={<LabelImportantIcon className={classes.linkIcon} />}\n            variant=\"text\"\n          >\n            {tag}\n          </Button>\n        ))}\n        <Button\n          color=\"default\"\n          classes={{ root: classes.link, label: classes.linkText }}\n          className={pathname === '/trash' ? 'active' : ''}\n          onClick={goTo('/trash')}\n          startIcon={<DeleteIcon className={classes.linkIcon} />}\n          variant=\"text\"\n        >\n          Trash\n        </Button>\n      </Links>\n    </Container>\n  );\n};\n\nexport default Navbar;\n","import * as React from 'react';\n\nexport default function useSwitch(initialState = false): [boolean, () => void] {\n  const [isTrue, setValue] = React.useState(initialState);\n\n  const switchFn = React.useCallback(() => {\n    setValue(!isTrue);\n  }, [isTrue]);\n\n  return [isTrue, switchFn];\n}\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport Navbar from './Navbar';\nimport { BrowserRouter } from 'react-router-dom';\n\nconst Container = styled.div`\n  align-items: stretch;\n  background-color: white;\n  display: flex;\n  flex-direction: row nowrap;\n  height: 100vh;\n  width: 100vw;\n`;\n\nconst Children = styled.div`\n  box-sizing: border-box;\n  flex-grow: 1;\n  margin-top: 64px;\n`;\n\nconst Nav: React.FC = ({ children }) => (\n  <Container>\n    <BrowserRouter>\n      <Navbar />\n      <Children>{children}</Children>\n    </BrowserRouter>\n  </Container>\n);\n\nexport default Nav;\n","import * as React from 'react';\nimport { Nav } from './Nav';\nimport { MailList, Mail } from './Mail';\nimport { Switch, Route } from 'react-router-dom';\n\nconst App: React.FC = () => (\n  <Nav>\n    <Switch>\n      <Route path=\"/mail/:id\" component={Mail} />\n      <Route component={MailList} />\n    </Switch>\n  </Nav>\n);\n\nexport default App;\n","import * as React from 'react';\nimport { render } from 'react-dom';\nimport { ReduxProvider } from './store';\nimport { AuthGate } from './Auth';\nimport './fonts/fonts.css';\nimport { Theme } from './util';\nimport App from './App';\n\nrender(\n  <React.StrictMode>\n    <ReduxProvider>\n      <Theme>\n        <AuthGate>\n          <App />\n        </AuthGate>\n      </Theme>\n    </ReduxProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","module.exports = __webpack_public_path__ + \"static/media/googleLogo.6f6f3f0e.svg\";"],"sourceRoot":""}