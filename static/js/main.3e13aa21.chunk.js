(this["webpackJsonpui-exercise"]=this["webpackJsonpui-exercise"]||[]).push([[0],{114:function(e,n,t){e.exports=t(143)},142:function(e,n,t){},143:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t(11),c=t(15),i=t(55),l=t(36),o=t(21),u=t(107),s=t(28),m=function(e){return e.auth},d=Object(s.a)(m,(function(e){return e.isFetching})),f=Object(s.a)(m,(function(e){return null!==e.user})),b=Object(s.a)(m,(function(e){return e.user})),p=Object(s.a)(m,(function(e){return e.error})),h=t(37),g=t(18),v={email:"",error:null,isFetching:!1,user:JSON.parse(localStorage.getItem("USER_INFO")||"null")},x=Object(l.b)({initialState:v,name:"auth",reducers:{restoreDefault:function(){return localStorage.removeItem("USER_INFO"),v},login:function(e,n){e.isFetching=!0,e.email=n.payload},receiveUserInfo:function(e,n){e.isFetching=!1,e.user=n.payload,e.user.email=e.email,localStorage.setItem("USER_INFO",JSON.stringify(e.user))},rejectUserInfo:function(e,n){e.isFetching=!1,e.error=n.payload},removeError:function(e){e.error=null}}}),E=x.actions,j=x.reducer,O=t(19),w=t(177),k=t(179),y=t(145),C=t(187),I=t(181),N=t(182),S=t(183),F=t(184),z=t(90),M=t.n(z),T=t(97),L=t.n(T),_=function(e,n){if(n<e)throw new Error("Left number should be lower than right number");return Math.floor(Math.random()*n)+e},D=t(106),R=t(176),U=Object(D.a)({typography:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif'},palette:{primary:{main:"rgb(26, 115, 232)"},error:{main:"#d93025"}}}),A=function(e){var n=e.children;return a.createElement(R.a,{theme:U},n)};var J=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;function P(){var e=Object(g.a)(["\n  align-items: center;\n  background-color: white;\n  display: flex;\n  height: 100vh;\n  justify-content: center;\n  width: 100%;\n"]);return P=function(){return e},e}var W=O.b.div(P()),G=Object(w.a)({card:{alignItems:"center",border:"1px solid #dadce0",boxSizing:"border-box",display:"flex",flexFlow:"column nowrap",padding:"40px 40px 36px",maxWidth:448,width:"100%"},title:{fontFamily:"Product Sans",fontSize:24,marginTop:16,textAlign:"center"},subtitle:{marginTop:8,textAlign:"center"},input:{marginTop:32,width:"100%"},disclaimer:{color:"#5f6368",fontSize:14,marginTop:32},button:{fontFamily:"Product Sans",marginTop:32,textTransform:"capitalize"},helperText:{fontSize:12},helperTextIcon:{fontSize:14,marginRight:8}}),K=function(){var e=Object(c.b)(),n=a.useState(""),t=Object(h.a)(n,2),r=t[0],i=t[1],l=function(){var e=Object(c.b)();return{error:Object(c.c)(p),clearError:a.useCallback((function(){e(E.removeError())}),[e]),isLoading:Object(c.c)(d),loginFunction:a.useCallback((function(n){var t=n.includes("@")?n:"".concat(n,"@salesloft.com");e(E.login(t))}),[e]),logoutFunction:a.useCallback((function(){e(E.restoreDefault())}),[e])}}(),o=l.clearError,u=l.error,s=l.isLoading,m=l.loginFunction,f=a.useCallback((function(){r&&(r.includes("@")&&J.test(r)||!r.includes("@"))?m(r):e(r?E.rejectUserInfo("Enter a valid email"):E.rejectUserInfo("Enter an email"))}),[e,r,m]);a.useEffect((function(){o()}),[o,r]);var b=G();return a.createElement(W,null,a.createElement(k.a,{className:b.card},a.createElement("img",{src:M.a,alt:"Google"}),a.createElement(y.a,{className:b.title},"Sign In"),a.createElement(y.a,{className:b.subtitle},"to continue to Gmail"),a.createElement(C.a,{className:b.input,id:"email",label:"Email",variant:"outlined",value:r,onChange:function(e){var n=e.currentTarget.value;return i(n.trim())},error:!!u,helperText:u&&a.createElement(I.a,{container:!0},a.createElement(L.a,{className:b.helperTextIcon}),a.createElement(y.a,{className:b.helperText},u))}),a.createElement(y.a,{className:b.disclaimer},"Not your computer? Use a private browsing window to sign in."," ",a.createElement(N.a,{href:"https://support.google.com/accounts?p=signin_privatebrowsing&hl=en"},"Learn more")),a.createElement(S.a,{className:b.button,variant:"contained",color:"primary",onClick:f},s&&a.createElement(F.a,{color:"inherit",size:24}),!s&&"Next")))},B=function(e){var n=e.children;return Object(c.c)(f)?a.createElement(a.Fragment,null,n):a.createElement(K,null)},H=t(33),Z=t.n(H),q=t(34),$=t(98),Q=t.n($),V=Z.a.mark(Y),X=Z.a.mark(ee);function Y(){var e,n,t;return Z.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(q.a)(Q.a.get,"https://reqres.in/api/users/".concat(_(0,12)));case 3:return e=a.sent,a.next=6,Object(q.c)(E.receiveUserInfo(e.data.data));case 6:a.next=13;break;case 8:return a.prev=8,a.t0=a.catch(0),t=(null===(n=a.t0.response)||void 0===n?void 0:n.data)||a.t0.message||"Unknown Error",a.next=13,Object(q.c)(E.rejectUserInfo(t));case 13:case"end":return a.stop()}}),V,null,[[0,8]])}function ee(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.e)(E.login.type,Y);case 2:case"end":return e.stop()}}),X)}var ne=t(45),te=t(56),ae=Object(l.b)({initialState:{isFetching:!1,lastKnownError:null,mailList:[]},name:"mail",reducers:{fetchMails:function(e){e.isFetching=!0},receiveMails:function(e,n){var t=n.payload,a=e.mailList.reduce((function(e,n){return Object(te.a)(Object(te.a)({},e),{},Object(ne.a)({},n.id,n))}),{});t.forEach((function(e){a[e.id]||(a[e.id]=Object(te.a)(Object(te.a)({},e),{},{id:Number(e.id),isReaded:!1,isDeleted:!1,isFavorite:!1}))})),e.isFetching=!1,e.mailList=Object.values(a).sort((function(e,n){return Number(new Date(n.date))-Number(new Date(e.date))}))},rejectMails:function(e,n){var t=n.payload;e.isFetching=!1,e.lastKnownError=t},readMail:function(e,n){var t=n.payload,a=e.mailList.find((function(e){return e.id===t}));a&&(a.isReaded=!0)},deleteMail:function(e,n){var t=n.payload,a=e.mailList.find((function(e){return e.id===t}));a&&(a.isDeleted=!0)},restoreMail:function(e,n){var t=n.payload,a=e.mailList.find((function(e){return e.id===t}));a&&(a.isDeleted=!1)},removeMail:function(e,n){var t=n.payload,a=e.mailList.findIndex((function(e){return e.id===t}));a>=0&&e.mailList.splice(a,1)},switchFavorite:function(e,n){var t=n.payload,a=e.mailList.find((function(e){return e.id===t}));a&&(a.isFavorite=!a.isFavorite)}}}),re=ae.actions,ce=ae.reducer,ie=Z.a.mark(oe),le=Z.a.mark(ue);function oe(){var e;return Z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(q.b)(2e3);case 3:return n.next=5,t.e(3).then(t.t.bind(null,192,3));case 5:return e=n.sent,n.next=8,Object(q.c)(re.receiveMails(e.default.messages));case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,Object(q.c)(re.rejectMails(n.t0.message));case 14:case"end":return n.stop()}}),ie,null,[[0,10]])}function ue(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.d)(re.fetchMails.type,oe);case 2:case"end":return e.stop()}}),le)}var se=t(14),me=function(e){return e.mail},de=Object(s.a)(me,(function(e){return e.mailList})),fe=Object(s.a)(me,(function(e){return e.isFetching})),be=(Object(s.a)(me,(function(e){return e.lastKnownError})),Object(s.a)(de,(function(e){var n={};return e.map((function(e){return e.tags})).flat().forEach((function(e){n[e]?n[e]+=1:n[e]=1})),Object.keys(n).sort((function(e,t){return n[t]-n[e]}))}))),pe=t(185),he=t(189),ge=t(186),ve=t(188),xe=t(100),Ee=t.n(xe),je=t(49),Oe=t.n(je),we=t(69),ke=t.n(we),ye=t(48),Ce=t.n(ye),Ie=t(99),Ne=t.n(Ie);function Se(){var e=Object(g.a)(["\n  flex: 1;\n  margin-right: 10px;\n\n  @media screen and (max-width: 400px) {\n    display: none;\n  }\n"]);return Se=function(){return e},e}function Fe(){var e=Object(g.a)(["\n  align-items: center;\n  border-bottom: 1px solid transparent;\n  border-top: 1px solid transparent;\n  cursor: pointer;\n  display: flex;\n  flex-flow: row nowrap;\n  padding-right: 20px;\n\n  &:hover {\n    border-bottom-color: rgba(0, 0, 0, 0.12);\n    border-top-color: rgba(0, 0, 0, 0.12);\n  }\n"]);return Fe=function(){return e},e}function ze(){var e=Object(g.a)(["\n  align-items: center;\n  display: flex;\n  flex-flow: row nowrap;\n"]);return ze=function(){return e},e}function Me(){var e=Object(g.a)(["\n  align-items: stretch;\n  display: flex;\n  flex-flow: column nowrap;\n  width: 100%;\n\n  @media screen and (max-width: 400px) {\n    width: 100vw;\n  }\n"]);return Me=function(){return e},e}var Te=O.b.div(Me()),Le=O.b.div(ze()),_e=O.b.div(Fe()),De=O.b.span(Se()),Re=function(){var e,n=Object(c.b)(),t=Object(se.h)().pathname,r=Object(se.g)().push,l=a.useCallback((function(e){return function(){r(e)}}),[r]),o=Object(c.c)((e=t,Object(s.a)(de,(function(n){return!e||e&&"/"===e?n.filter((function(e){return!e.isDeleted})):e.includes("/tags/")?n.filter((function(n){return n.tags.includes(e.replace("/tags/",""))&&!n.isDeleted})):e.includes("/starred")?n.filter((function(e){var n=e.isDeleted;return e.isFavorite&&!n})):e.includes("/trash")?n.filter((function(e){return e.isDeleted})):[]})))),u=Object(c.c)(fe),m=a.useCallback((function(){n(re.fetchMails())}),[n]),d=a.useMemo((function(){return o.map((function(e){return e.id}))}),[o]),f=a.useState([]),b=Object(h.a)(f,2),p=b[0],g=b[1],v=a.useCallback((function(){p.length?g([]):g(d)}),[d,p]),x=a.useCallback((function(e){return function(){var n=p.indexOf(e);if(-1===n)g([].concat(Object(i.a)(p),[e]));else{var t=Object(i.a)(p);t.splice(n,1),g(t)}}}),[p]),E=a.useCallback((function(e){return function(){n(re.switchFavorite(e))}}),[n]),j=a.useCallback((function(){p.forEach((function(e){return n(re.deleteMail(e))}))}),[n,p]),O=a.useCallback((function(){p.forEach((function(e){return n(re.restoreMail(e))}))}),[n,p]),w=a.useCallback((function(){p.forEach((function(e){return n(re.removeMail(e))}))}),[n,p]);return a.useEffect((function(){o.length||m()}),[m,o.length]),a.useEffect((function(){g([])}),[t]),a.createElement(Te,null,a.createElement(pe.a,null),a.createElement(Le,null,a.createElement(he.a,{checked:JSON.stringify(p.sort())===JSON.stringify(d.sort()),onChange:v,indeterminate:!!p.length}),p.length?a.createElement(a.Fragment,null,"/trash"===t&&a.createElement(ge.a,{"aria-label":"restore",onClick:O},a.createElement(Ne.a,{fontSize:"small"})),a.createElement(ge.a,{"aria-label":"delete",onClick:"/trash"===t?w:j},a.createElement(Ce.a,{fontSize:"small"}))):a.createElement(ge.a,{"aria-label":"refresh",onClick:m},a.createElement(Ee.a,{fontSize:"small"}))),a.createElement(pe.a,null),u&&a.createElement(F.a,null),o.map((function(e){return a.createElement(_e,{key:e.id},a.createElement(he.a,{checked:p.includes(e.id),onChange:x(e.id)}),a.createElement(he.a,{icon:a.createElement(ke.a,null),checkedIcon:a.createElement(Oe.a,null),onChange:E(e.id),checked:e.isFavorite}),a.createElement(De,null,a.createElement(y.a,{onClick:l("/mail/".concat(e.id)),noWrap:!0},e.sender)),a.createElement(y.a,{onClick:l("/mail/".concat(e.id)),noWrap:!0,style:{flex:3}},e.subject),a.createElement(y.a,null,Object(ve.a)(new Date(e.date),"PP")))})))},Ue=t(101),Ae=t.n(Ue);function Je(){var e=Object(g.a)(["\n  box-sizing: border-box;\n  height: calc(100vh - 64px);\n  overflow: auto;\n  padding: 32px;\n  width: 100%;\n\n  @media screen and (max-width: 400px) {\n    width: 100vw;\n  }\n"]);return Je=function(){return e},e}var Pe=O.b.div(Je()),We=function(){var e,n=Object(c.b)(),t=Object(se.i)().params.id,r=Object(c.c)((e=Number(t),Object(s.a)(de,(function(n){return n.find((function(n){return n.id===e}))})))),i=Object(se.g)().push,l=a.useCallback((function(e){return function(){i(e)}}),[i]),o=a.useCallback((function(){n(re.switchFavorite(Number(t)))}),[n,t]),u=a.useCallback((function(){(null===r||void 0===r?void 0:r.isDeleted)?(n(re.removeMail(Number(t))),l("/trash")()):(n(re.deleteMail(Number(t))),l("/")())}),[n,l,r,t]);return t&&r?a.createElement(Pe,null,a.createElement(pe.a,null),a.createElement(Le,null,a.createElement(ge.a,{"aria-label":"back",onClick:l("/")},a.createElement(Ae.a,{fontSize:"small"})),a.createElement(he.a,{icon:a.createElement(ke.a,null),checkedIcon:a.createElement(Oe.a,null),onChange:o,checked:r.isFavorite}),a.createElement(ge.a,{"aria-label":"delete",onClick:u},a.createElement(Ce.a,{fontSize:"small"}))),a.createElement(pe.a,null),a.createElement(y.a,{variant:"h5",style:{marginBottom:"3rem"}},r.subject),a.createElement("div",{dangerouslySetInnerHTML:{__html:r.body}})):a.createElement(se.a,{to:"/"})},Ge={auth:j,mail:ce},Ke=function(e){var n=e.children,t=a.useMemo((function(){return function(){var e=Object(u.a)(),n=Object(l.a)({reducer:Object(o.c)(Ge),devTools:!1,middleware:[].concat(Object(i.a)(Object(l.c)()),[e])});return e.run(ee),e.run(ue),n}()}),[]);return a.createElement(c.a,{store:t},n)},Be=(t(142),t(191)),He=t(16),Ze=t(190),qe=t(102),$e=t.n(qe),Qe=t(103),Ve=t.n(Qe),Xe=t(105),Ye=t.n(Xe),en=t(104),nn=t.n(en);function tn(){var e=Object(g.a)(["\n  align-items: stretch;\n  box-sizing: border-box;\n  display: flex;\n  flex-flow: column nowrap;\n  overflow: hidden;\n  padding: 30px 12px 0 20px;\n  width: 100%;\n"]);return tn=function(){return e},e}function an(){var e=Object(g.a)(["\n"]);return an=function(){return e},e}function rn(){var e=Object(g.a)(["\n  margin-right: 70px;\n\n  @media screen and (max-width: 400px) {\n    display: none;\n  }\n"]);return rn=function(){return e},e}function cn(){var e=Object(g.a)(["\n  align-items: center;\n  box-sizing: border-box;\n  display: flex;\n  flex-flow: row nowrap;\n  padding: 8px;\n  width: 100vw;\n"]);return cn=function(){return e},e}function ln(){var e=Object(g.a)(["\n    align-items: stretch;\n    box-sizing: border-box;\n    display: flex;\n    flex-flow: column nowrap;\n    transition: all .3s cubic-bezier(.25, .8, .25, 1);\n    width: ","px;\n\n    @media screen and (max-width: 400px) {\n      width: ","px;\n    }\n  "]);return ln=function(){return e},e}function on(){var e=Object(g.a)(["\n  ","\n"]);return on=function(){return e},e}var un=O.b.div(on(),(function(e){var n=e.isOpened;return Object(O.a)(ln(),n?256:72,n?256:0)})),sn=O.b.div(cn()),mn=O.b.img(rn()),dn=Object(O.b)(Be.a)(an()),fn=O.b.div(tn()),bn=Object(w.a)((function(e){return{button:{margin:"0 4px"},search:Object(ne.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(He.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(He.b)(e.palette.common.white,.25)},flexGrow:1,marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(ne.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"30ch"}),avatar:{padding:0},link:{borderRadius:18,fontSize:14,textTransform:"capitalize","&.active":{backgroundColor:"#fce8e6",color:"#d93025",fontWeight:"bold"}},linkText:{justifyContent:"flex-start",textAlign:"left"},linkIcon:{marginRight:18,paddingLeft:6}}})),pn=function(){var e=Object(c.b)(),n=Object(c.c)(b),t=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=a.useState(e),t=Object(h.a)(n,2),r=t[0],c=t[1],i=a.useCallback((function(){c(!r)}),[r]);return[r,i]}(!0),r=Object(h.a)(t,2),i=r[0],l=r[1],o=Object(c.c)(be),u=Object(se.h)().pathname,s=Object(se.g)().push,m=bn(),d=a.useCallback((function(){e(E.restoreDefault())}),[e]),f=a.useCallback((function(e){return function(){s(e)}}),[s]);return n?a.createElement(un,{isOpened:i},u.includes("ui-exercise")&&a.createElement(se.a,{to:"/"}),a.createElement(sn,null,a.createElement(ge.a,{className:m.button,onClick:l},a.createElement($e.a,null)),a.createElement(mn,{src:"https://ssl.gstatic.com/ui/v1/icons/mail/rfr/logo_gmail_lockup_default_1x.png",srcSet:"https://ssl.gstatic.com/ui/v1/icons/mail/rfr/logo_gmail_lockup_default_1x.png 1x, https://ssl.gstatic.com/ui/v1/icons/mail/rfr/logo_gmail_lockup_default_2x.png 2x ",alt:"","aria-hidden":"true"}),a.createElement("div",{className:m.search},a.createElement("div",{className:m.searchIcon},a.createElement(Ve.a,null)),a.createElement(Ze.a,{placeholder:"Search\u2026",classes:{root:m.inputRoot,input:m.inputInput},inputProps:{"aria-label":"search"}})),a.createElement(ge.a,{className:m.avatar,onClick:d},a.createElement(dn,{alt:n.first_name,src:n.avatar}))),a.createElement(fn,null,a.createElement(S.a,{color:"default",classes:{root:m.link,label:m.linkText},className:"/"===u?"active":"",onClick:f("/"),startIcon:a.createElement(nn.a,{className:m.linkIcon}),variant:"text"},"Inbox"),a.createElement(S.a,{color:"default",classes:{root:m.link,label:m.linkText},className:"/starred"===u?"active":"",onClick:f("/starred"),startIcon:a.createElement(Oe.a,{className:m.linkIcon}),variant:"text"},"Starred"),o.map((function(e){return a.createElement(S.a,{color:"default",classes:{root:m.link,label:m.linkText},className:u==="/tags/".concat(e)?"active":"",key:e,onClick:f("/tags/".concat(e)),startIcon:a.createElement(Ye.a,{className:m.linkIcon}),variant:"text"},e)})),a.createElement(S.a,{color:"default",classes:{root:m.link,label:m.linkText},className:"/trash"===u?"active":"",onClick:f("/trash"),startIcon:a.createElement(Ce.a,{className:m.linkIcon}),variant:"text"},"Trash"))):null},hn=t(46);function gn(){var e=Object(g.a)(["\n  box-sizing: border-box;\n  flex-grow: 1;\n  margin-top: 64px;\n"]);return gn=function(){return e},e}function vn(){var e=Object(g.a)(["\n  align-items: stretch;\n  background-color: white;\n  display: flex;\n  flex-direction: row nowrap;\n  height: 100vh;\n  width: 100vw;\n"]);return vn=function(){return e},e}var xn=O.b.div(vn()),En=O.b.div(gn()),jn=function(e){var n=e.children;return a.createElement(xn,null,a.createElement(hn.a,null,a.createElement(pn,null),a.createElement(En,null,n)))},On=function(){return a.createElement(jn,null,a.createElement(se.d,null,a.createElement(se.b,{path:"/mail/:id",component:We}),a.createElement(se.b,{component:Re})))};Object(r.render)(a.createElement(a.StrictMode,null,a.createElement(Ke,null,a.createElement(A,null,a.createElement(B,null,a.createElement(On,null))))),document.getElementById("root"))},90:function(e,n,t){e.exports=t.p+"static/media/googleLogo.6f6f3f0e.svg"}},[[114,1,2]]]);
//# sourceMappingURL=main.3e13aa21.chunk.js.map