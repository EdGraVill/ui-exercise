(this["webpackJsonpui-exercise"]=this["webpackJsonpui-exercise"]||[]).push([[0],{105:function(e,t,n){e.exports=n(134)},132:function(e,t,n){},134:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(11),c=n(16),i=n(97),o=n(31),l=n(19),u=n(98),s=n(25),m=function(e){return e.auth},f=Object(s.a)(m,(function(e){return e.isFetching})),d=Object(s.a)(m,(function(e){return null!==e.user})),b=Object(s.a)(m,(function(e){return e.user})),p=Object(s.a)(m,(function(e){return e.error})),g=n(41),h=n(22),v={email:"",error:null,isFetching:!1,user:JSON.parse(localStorage.getItem("USER_INFO")||"null")},x=Object(o.b)({initialState:v,name:"auth",reducers:{restoreDefault:function(){return localStorage.removeItem("USER_INFO"),v},login:function(e,t){e.isFetching=!0,e.email=t.payload},receiveUserInfo:function(e,t){e.isFetching=!1,e.user=t.payload,e.user.email=e.email,localStorage.setItem("USER_INFO",JSON.stringify(e.user))},rejectUserInfo:function(e,t){e.isFetching=!1,e.error=t.payload},removeError:function(e){e.error=null}}}),j=x.actions,O=x.reducer,E=n(23),w=n(166),k=n(168),y=n(136),I=n(175),N=n(170),S=n(171),F=n(172),C=n(173),T=n(85),_=n.n(T),z=n(92),L=n.n(z),R=function(e,t){if(t<e)throw new Error("Left number should be lower than right number");return Math.floor(Math.random()*t)+e},M=n(96),U=n(165),A=Object(M.a)({typography:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif'},palette:{primary:{main:"rgb(26, 115, 232)"},error:{main:"#d93025"}}}),D=function(e){var t=e.children;return r.createElement(U.a,{theme:A},t)};var J=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;function G(){var e=Object(h.a)(["\n  align-items: center;\n  background-color: white;\n  display: flex;\n  height: 100vh;\n  justify-content: center;\n  width: 100%;\n"]);return G=function(){return e},e}var K=E.b.div(G()),P=Object(w.a)({card:{alignItems:"center",border:"1px solid #dadce0",boxSizing:"border-box",display:"flex",flexFlow:"column nowrap",padding:"40px 40px 36px",maxWidth:448,width:"100%"},title:{fontFamily:"Product Sans",fontSize:24,marginTop:16,textAlign:"center"},subtitle:{marginTop:8,textAlign:"center"},input:{marginTop:32,width:"100%"},disclaimer:{color:"#5f6368",fontSize:14,marginTop:32},button:{fontFamily:"Product Sans",marginTop:32,textTransform:"capitalize"},helperText:{fontSize:12},helperTextIcon:{fontSize:14,marginRight:8}}),W=function(){var e=Object(c.b)(),t=r.useState(""),n=Object(g.a)(t,2),a=n[0],i=n[1],o=function(){var e=Object(c.b)();return{error:Object(c.c)(p),clearError:r.useCallback((function(){e(j.removeError())}),[e]),isLoading:Object(c.c)(f),loginFunction:r.useCallback((function(t){var n=t.includes("@")?t:"".concat(t,"@salesloft.com");e(j.login(n))}),[e]),logoutFunction:r.useCallback((function(){e(j.restoreDefault())}),[e])}}(),l=o.clearError,u=o.error,s=o.isLoading,m=o.loginFunction,d=r.useCallback((function(){a&&(a.includes("@")&&J.test(a)||!a.includes("@"))?m(a):e(a?j.rejectUserInfo("Enter a valid email"):j.rejectUserInfo("Enter an email"))}),[e,a,m]);r.useEffect((function(){l()}),[l,a]);var b=P();return r.createElement(K,null,r.createElement(k.a,{className:b.card},r.createElement("img",{src:_.a,alt:"Google"}),r.createElement(y.a,{className:b.title},"Sign In"),r.createElement(y.a,{className:b.subtitle},"to continue to Gmail"),r.createElement(I.a,{className:b.input,id:"email",label:"Email",variant:"outlined",value:a,onChange:function(e){var t=e.currentTarget.value;return i(t.trim())},error:!!u,helperText:u&&r.createElement(N.a,{container:!0},r.createElement(L.a,{className:b.helperTextIcon}),r.createElement(y.a,{className:b.helperText},u))}),r.createElement(y.a,{className:b.disclaimer},"Not your computer? Use a private browsing window to sign in."," ",r.createElement(S.a,{href:"https://support.google.com/accounts?p=signin_privatebrowsing&hl=en"},"Learn more")),r.createElement(F.a,{className:b.button,variant:"contained",color:"primary",onClick:d},s&&r.createElement(C.a,{color:"inherit",size:24}),!s&&"Next")))},Z=function(e){var t=e.children;return Object(c.c)(d)?r.createElement(r.Fragment,null,t):r.createElement(W,null)},q=n(29),B=n.n(q),H=n(32),$=n(93),Q=n.n($),V=B.a.mark(Y),X=B.a.mark(ee);function Y(){var e,t,n;return B.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(H.a)(Q.a.get,"https://reqres.in/api/users/".concat(R(0,12)));case 3:return e=r.sent,r.next=6,Object(H.b)(j.receiveUserInfo(e.data.data));case 6:r.next=13;break;case 8:return r.prev=8,r.t0=r.catch(0),n=(null===(t=r.t0.response)||void 0===t?void 0:t.data)||r.t0.message||"Unknown Error",r.next=13,Object(H.b)(j.rejectUserInfo(n));case 13:case"end":return r.stop()}}),V,null,[[0,8]])}function ee(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.d)(j.login.type,Y);case 2:case"end":return e.stop()}}),X)}var te=n(39),ne=n(64),re=Object(o.b)({initialState:{isFetching:!1,lastKnownError:null,mailList:[]},name:"mail",reducers:{fetchMails:function(e){e.isFetching=!0},receiveMails:function(e,t){var n=t.payload,r=e.mailList.reduce((function(e,t){return Object(ne.a)(Object(ne.a)({},e),{},Object(te.a)({},t.id,t))}),{});n.forEach((function(e){r[e.id]=e})),e.isFetching=!1,e.mailList=Object.values(r).sort((function(e,t){return Number(new Date(t.date))-Number(new Date(e.date))}))},rejectMails:function(e,t){var n=t.payload;e.isFetching=!1,e.lastKnownError=n}}}),ae=re.actions,ce=re.reducer,ie=B.a.mark(le),oe=B.a.mark(ue);function le(){var e;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.e(3).then(n.t.bind(null,178,3));case 3:return e=t.sent,t.next=6,Object(H.b)(ae.receiveMails(e.default.messages));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(H.b)(ae.rejectMails(t.t0.message));case 12:case"end":return t.stop()}}),ie,null,[[0,8]])}function ue(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.c)(ae.fetchMails.type,le);case 2:case"end":return e.stop()}}),oe)}var se={auth:O,mail:ce},me=function(e){var t=e.children,n=r.useMemo((function(){return function(){var e=Object(u.a)(),t=Object(o.a)({reducer:Object(l.c)(se),devTools:!1,middleware:[].concat(Object(i.a)(Object(o.c)()),[e])});return e.run(ee),e.run(ue),t}()}),[]);return r.createElement(c.a,{store:n},t)},fe=(n(132),n(177)),de=n(17),be=n(174),pe=n(176),ge=n(94),he=n.n(ge),ve=n(95),xe=n.n(ve),je=n(67),Oe=n.n(je),Ee=function(e){return e.mail},we=Object(s.a)(Ee,(function(e){return e.mailList})),ke=Object(s.a)(Ee,(function(e){return e.isFetching})),ye=(Object(s.a)(Ee,(function(e){return e.lastKnownError})),Object(s.a)(we,(function(e){var t={};return e.map((function(e){return e.tags})).flat().forEach((function(e){t[e]?t[e]+=1:t[e]=1})),console.log(t),Object.keys(t).sort((function(e,n){return t[n]-t[e]}))}))),Ie=n(14);function Ne(){var e=Object(h.a)(["\n  align-items: stretch;\n  box-sizing: border-box;\n  display: flex;\n  flex-flow: column nowrap;\n  overflow: hidden;\n  padding: 30px 12px 0 20px;\n  width: 100%;\n"]);return Ne=function(){return e},e}function Se(){var e=Object(h.a)(["\n"]);return Se=function(){return e},e}function Fe(){var e=Object(h.a)(["\n  margin-right: 70px;\n\n  @media screen and (max-width: 400px) {\n    display: none;\n  }\n"]);return Fe=function(){return e},e}function Ce(){var e=Object(h.a)(["\n  align-items: center;\n  box-sizing: border-box;\n  display: flex;\n  flex-flow: row nowrap;\n  padding: 8px;\n  width: 100vw;\n"]);return Ce=function(){return e},e}function Te(){var e=Object(h.a)(["\n    align-items: stretch;\n    box-sizing: border-box;\n    display: flex;\n    flex-flow: column nowrap;\n    transition: all .3s cubic-bezier(.25, .8, .25, 1);\n    width: ","px;\n\n    @media screen and (max-width: 400px) {\n      width: ","px;\n    }\n  "]);return Te=function(){return e},e}function _e(){var e=Object(h.a)(["\n  ","\n"]);return _e=function(){return e},e}var ze=E.b.div(_e(),(function(e){var t=e.isOpened;return Object(E.a)(Te(),t?256:72,t?256:0)})),Le=E.b.div(Ce()),Re=E.b.img(Fe()),Me=Object(E.b)(fe.a)(Se()),Ue=E.b.div(Ne()),Ae=Object(w.a)((function(e){return{button:{margin:"0 4px"},search:Object(te.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(de.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(de.b)(e.palette.common.white,.25)},flexGrow:1,marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(te.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"30ch"}),avatar:{padding:0},link:{borderRadius:18,fontSize:14,textTransform:"capitalize","&.active":{backgroundColor:"#fce8e6",color:"#d93025",fontWeight:"bold"}},linkText:{justifyContent:"flex-start",textAlign:"left"},linkIcon:{marginRight:18,paddingLeft:6}}})),De=function(){var e=Object(c.b)(),t=Object(c.c)(b),n=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=r.useState(e),n=Object(g.a)(t,2),a=n[0],c=n[1],i=r.useCallback((function(){c(!a)}),[a]);return[a,i]}(!0),a=Object(g.a)(n,2),i=a[0],o=a[1],l=Object(c.c)(ye),u=Object(Ie.e)().pathname,s=Object(Ie.d)().push,m=Ae(),f=r.useCallback((function(){e(j.restoreDefault())}),[e]),d=r.useCallback((function(e){return function(){s(e)}}),[s]);return t?(console.log(u),r.createElement(ze,{isOpened:i},r.createElement(Le,null,r.createElement(be.a,{className:m.button,onClick:o},r.createElement(he.a,null)),r.createElement(Re,{src:"https://ssl.gstatic.com/ui/v1/icons/mail/rfr/logo_gmail_lockup_default_1x.png",srcSet:"https://ssl.gstatic.com/ui/v1/icons/mail/rfr/logo_gmail_lockup_default_1x.png 1x, https://ssl.gstatic.com/ui/v1/icons/mail/rfr/logo_gmail_lockup_default_2x.png 2x ",alt:"","aria-hidden":"true"}),r.createElement("div",{className:m.search},r.createElement("div",{className:m.searchIcon},r.createElement(xe.a,null)),r.createElement(pe.a,{placeholder:"Search\u2026",classes:{root:m.inputRoot,input:m.inputInput},inputProps:{"aria-label":"search"}})),r.createElement(be.a,{className:m.avatar,onClick:f},r.createElement(Me,{alt:t.first_name,src:t.avatar}))),r.createElement(Ue,null,r.createElement(F.a,{color:"default",classes:{root:m.link,label:m.linkText},className:"/"===u?"active":"",onClick:d("/"),startIcon:r.createElement(Oe.a,{className:m.linkIcon}),variant:"text"},"Inbox"),l.map((function(e){return r.createElement(F.a,{color:"default",classes:{root:m.link,label:m.linkText},className:u==="/tags/".concat(e)?"active":"",key:e,onClick:d("/tags/".concat(e)),startIcon:r.createElement(Oe.a,{className:m.linkIcon}),variant:"text"},e)}))))):null},Je=n(52);function Ge(){var e=Object(h.a)(["\n  box-sizing: border-box;\n  flex-grow: 1;\n  margin-top: 64px;\n"]);return Ge=function(){return e},e}function Ke(){var e=Object(h.a)(["\n  align-items: stretch;\n  background-color: white;\n  display: flex;\n  flex-direction: row nowrap;\n  height: 100vh;\n  width: 100vw;\n"]);return Ke=function(){return e},e}var Pe=E.b.div(Ke()),We=E.b.div(Ge()),Ze=function(e){var t=e.children;return r.createElement(Pe,null,r.createElement(Je.a,null,r.createElement(De,null),r.createElement(We,null,t)))},qe=function(){var e,t=Object(c.b)(),n=Object(Ie.e)().pathname,a=Object(c.c)((e="/"===n?void 0:n.replace("/tags/",""),Object(s.a)(we,(function(t){return e?t.filter((function(t){return t.tags.includes(e)})):t})))),i=Object(c.c)(ke);return r.useEffect((function(){t(ae.fetchMails())}),[t]),r.createElement("div",null,i&&r.createElement(C.a,null),r.createElement("pre",null,JSON.stringify(a,void 0,2)))},Be=function(){return r.createElement(Ze,null,r.createElement(qe,null))};Object(a.render)(r.createElement(r.StrictMode,null,r.createElement(me,null,r.createElement(D,null,r.createElement(Z,null,r.createElement(Be,null))))),document.getElementById("root"))},85:function(e,t,n){e.exports=n.p+"static/media/googleLogo.6f6f3f0e.svg"}},[[105,1,2]]]);
//# sourceMappingURL=main.b4879223.chunk.js.map